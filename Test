import discord
import pyautogui
import io
import asyncio
from discord.ext import commands

# Create the bot instance
intents = discord.Intents.default()
intents.message_content = True
bot = commands.Bot(command_prefix="!", intents=intents)


@bot.event
async def on_ready():
    print(f"Logged in as {bot.user}")


@bot.command()
async def screenshot(ctx):
    # Take a screenshot using pyautogui
    screenshot = pyautogui.screenshot()

    # Save the screenshot to a bytes object
    screenshot_bytes = io.BytesIO()
    screenshot.save(screenshot_bytes, format="PNG")
    screenshot_bytes.seek(0)  # Rewind the bytes

    # Send the screenshot to the Discord channel
    await ctx.send(file=discord.File(screenshot_bytes, "screenshot.png"))

    # Send the hate message
    await ctx.send("I hate jajca")


# Run the bot
bot.run('YOUR_BOT_TOKEN')
